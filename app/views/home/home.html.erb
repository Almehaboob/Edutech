<% content_for :title do %>
  Corsego | Online Courses - Learn Anything, On Your Schedule
<% end %>

<!-- Jumbotron Section -->
<div class="jumbotron text-center">
  <h1 class="display-4">What do you want to learn today?</h1>

  <div class="p-4">
    <% if current_user %>
      <%= search_form_for @ransack_courses, as: :courses_search, url: courses_path do |f| %>
        <div class="input-group mx-auto" style="max-width: 400px;">
          <%= f.search_field :title_cont, class: 'form-control form-control-sm', placeholder: 'Find a course', autocomplete: :off %>
          <div class="input-group-append">
            <button class="btn btn-primary btn-sm" type="submit">
              <span class="fa fa-search" aria-hidden="true"></span>
            </button>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>

<!-- Stats Section -->
<div class="container my-4">
  <div class="row text-center">
    <!-- Online Courses -->
    <div class="col-md-3 mb-4">
      <div class="card card-body shadow-sm">
        <h3><span class="fa fa-graduation-cap"></span> <%= Course.count %></h3>
        <p>Online Courses</p>
        <p>Explore a variety of fresh topics</p>
      </div>
    </div>

    <!-- Expert Instructors -->
    <div class="col-md-3 mb-4">
      <div class="card card-body shadow-sm">
        <h3><span class="fa fa-chalkboard-teacher"></span> <%= Course.distinct.count(:user_id) %></h3>
        <p>Expert Instructors</p>
        <p>Find the right instructor for you</p>
      </div>
    </div>

    <!-- Active Learners -->
    <div class="col-md-3 mb-4">
      <div class="card card-body shadow-sm">
        <h3><span class="fa fa-user-graduate"></span> <%= User.count %></h3>
        <p>Active Learners</p>
        <p>Join the learning community</p>
      </div>
    </div>

    <!-- Lifetime Access -->
    <div class="col-md-3 mb-4">
      <div class="card card-body shadow-sm">
        <h3><span class="fa fa-infinity"></span></h3>
        <p>Lifetime Access</p>
        <p>Learn on your schedule</p>
      </div>
    </div>
  </div>
</div>

<!-- Continue Learning Section -->
<h2 class="text-center my-4"><span class="fa fa-user-graduate"></span> Continue Learning</h2>

<div class="container">
  <div class="row">
    <% @purchased_courses.each do |course| %>
      <div class="col-md-4 mb-4">
        <%= render 'courses/course', course: course %>
      </div>
    <% end %>
  </div>
</div>

<hr>

<!-- Popular Courses Section -->
<h2 class="text-center my-4"><span class="fa fa-chart-line"></span> Popular Courses</h2>

<div class="container">
  <div class="row">
    <% @popular.each do |course| %>
      <div class="col-md-4 mb-4">
        <%= render 'courses/course', course: course %>
      </div>
    <% end %>
  </div>
</div>

<hr>

<!-- Top Rated Courses Section -->
<h2 class="text-center my-4"><span class="fa fa-star"></span> Top Rated Courses</h2>

<div class="container">
  <div class="row">
    <% @top_rated.each do |course| %>
      <div class="col-md-4 mb-4">
        <%= render 'courses/course', course: course %>
      </div>
    <% end %>
  </div>
</div>

<hr>

<!-- Latest Courses Section -->
<h2 class="text-center my-4"><span class="fa fa-clock"></span> Latest Courses</h2>

<div class="container">
  <div class="row">
    <% @latest.each do |course| %>
      <div class="col-md-4 mb-4">
        <%= render 'courses/course', course: course %>
      </div>
    <% end %>
  </div>
</div>

<hr>

<!-- Student Reviews Section -->
<h2 class="text-center my-4"><span class="fa fa-comment"></span> What Our Students Have to Say</h2>

<div class="container">
  <div class="row">
    <% @latest_good_reviews.each do |enrollment| %>
      <div class="col-md-4 mb-4">
        <%= render 'enrollments/enrollment', enrollment: enrollment %>
      </div>
    <% end %>
  </div>
</div>
